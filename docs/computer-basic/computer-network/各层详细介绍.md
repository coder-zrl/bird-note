# 整体总结

> 【计算机网络TCP/IP协议-从双绞线到TCP】https://www.bilibili.com/video/BV1ut421374J

## 计网常识

- 100Base-FX传输介质
  - 速率：100Mb/s
  - FX表示光纤，TX表示双绞线
- MAC地址FF-FF-FF-FF-FF-FF为广播地址

## 常见协议

常见协议 & TCP/IP体系所处层级：

![image](./assets/6535155_1aee50ce-5ee1-47db-8685-ce870c9cdeed.png)

## 常见设备

> 参考资料：https://www.bilibili.com/video/BV1LC4y187Ew

总结一句话就是，集线器（hub）和交换机（switch）组成网络，路由器（router）连接这些网络。路由器工作在网络层，要想接入互联网就需要路由器，只在局域网用集线器或者交换机就可以。

- 集线器：无脑转发给所有子网的机器

- 交换机：根据MAC地址区分机器，具有自学习的特点

- 路由器：根据路由表区分机器，可以连接外网，支持NAT

## 网络协议首部

PS：UDP固定首部8B

![image-20241204231654225](./assets/image-20241204231654225.png)

# 物理层

## 编码方式

- 反向不归零编码：信号跳变代表0，不跳变为1
- 曼彻斯特编码：每个时间间隔中间都跳变，向上跳为1或0，向下跳为0或1
- 差分曼彻斯特编码：每个时间间隔中间都跳变，时间起始处跳变为0，不跳为1

![image](./assets/6535155_5a03b454-20ff-4406-9b62-4badee9940ab.png)

## 计算信道传输速率

1、题目直接给出

2、时延带宽积：给出时延 & 时延带宽积

3、奈奎斯特定理 & 香农公式

![image](./assets/6535155_eb62f93a-d3cb-402e-f390-4788376bf5c4.png)

## 调制技术

正交振幅调制（QMA）：

例：某通信链路的波特率是1200Baud，采用4个相位，每个相位有4种振幅的QAM（QAM-16）调制技术，则该链路的信息传输速率是多少?

- 码元种类=4X4=16
- 每个码元所包含的比特位：log⁡2(16)=4 (bit)
- 1200Baud = 1200 X 4 = 4800 bit/s

## 信道利用率

传输数据时间 / 总时间



# 数据链路层

> https://juejin.cn/post/7147950339377856526

## CRC计算

> 参考资料：https://www.bilibili.com/video/BV1V4411Z7VA

异或：两数相同得0，不同得1

![image-20241203234545354](./assets/image-20241203234545354.png)

## 流量控制 & 可靠传输

- 停止等待协议：方案简单，信道利用率低
  - 发送窗口=1，接收窗口为1

- 回退N帧协议：使用累计确认，按顺序接收，有错则将后续全丢弃，返回最后一个序号的ACK
  - 发送窗口<=2^n-1，接收窗口为1

- 选择重传协议：只需要重传没有ACK的帧
  - 发送窗口 + 接收窗口<=2^n，且接收<=发送，所以接收<=2^(n-1)



# 网络层

## 最长前缀匹配

通过子网掩码对比，优先级为：最长前缀匹配 > 次长匹配 > 默认网关

![image-20241204233731366](./assets/image-20241204233731366.png)







# 传输层





# 应用层



